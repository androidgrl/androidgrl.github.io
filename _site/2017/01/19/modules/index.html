<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      The difference between using include and extend when including modules in a Class &middot; Androidgrl's Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0e">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
      <img src="/public/githubphoto.jpeg">Androidgrl</img>
      <p>Hello!  Welcome to androidgrl's blog!  My name is Jamie Kawahara I am a software developer and 3D printing enthusiast.  I hope you find the tutorials helpful.</p>
      <a href="https://twitter.com/androidgrl">Twitter</a></br>
      <a href="https://github.com/androidgrl">Github</a>
  </div>

  <nav class="sidebar-nav">

    

    
    
      
        
      
    
      
        
      
    
      
        
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Androidgrl's Blog</a>
            <small>About 3D Printing & Tech, by Jamie Kawahara</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">The difference between using include and extend when including modules in a Class</h1>
  <span class="post-date">19 Jan 2017</span>
  <p>We’ve seen the use of include for including methods from a module into a Class.
The following shows three modules included into Class A:</p>

<p>```
module B
  def b
    :b
  end
end</p>

<p>module C
  def c
    :c
  end
end</p>

<p>module D
  def d
    :d
  end
end</p>

<p>class A
  include B
  include C
  include D
end
```</p>

<p>Include turns the methods inside the module into <em>instance</em> methods for that class:</p>

<p><code>
puts A.new.b &gt;&gt; b
puts A.new.c &gt;&gt; c
puts A.new.d &gt;&gt; d
</code></p>

<p>However you can also change the methods into <em>class</em> methods by using extend:</p>

<p>```
module B
  def b
    :b
  end
end</p>

<p>module C
  def c
    :c
  end
end</p>

<p>module D
  def d
    :d
  end
end</p>

<p>class A
  extend B
  extend C
  extend D
end</p>

<p>puts A.b » b
puts A.c » c
puts A.d » d
```</p>

<p>Notice how we didn’t have to change the method definitions inside the module to self.method.
This is because modules have no sense of Class, they’re just buckets for methods.  They are called
‘mixins’ because they mix methods into wherever they are included or extended into.</p>

<p>Our team architect Adam Zaninovich gives the analogy of modules being ‘viruses’ and classes being ‘hosts’.  Modules ‘infect’
classes with their ‘methods’ (in a good way in this case), in the sense that viruses inject their dna into host cells.</p>

<p>I wrote include in class A three times which is repetitive.  If you find that you are
including modules in a class many times you can avoid this by using the self.included module method.</p>

<p>```
module B
  def self.included(klass)
    klass.include C
    klass.include D
  end</p>

<p>def b
    :b
  end
end</p>

<p>module C
  def c
    :c
  end
end</p>

<p>module D
  def d
    :d
  end
end</p>

<p>class A
  include B
end</p>

<p>puts A.new.b » b
puts A.new.c » c
puts A.new.d » d
```</p>

<p>Now there is only ‘include B’ inside class A.  Whenever B is included in a Class, it calls self.included
which passes in the class A as an argument.  “self.included” then included modules C and D into the klass
passed as the argument which in our case is class A.</p>

<p>Also, the self.included method comes in handy when you want your module to have BOTH instance and class methods.
The following module C demonstrates the conventional way to specify both instance and class methods inside a module.</p>

<p>```
module C
  def self.included(base)
    base.extend(ClassMethods)
  end</p>

<p>def c
    :c
  end</p>

<p>module ClassMethods
    def b
      :b
    end
  end
end</p>

<p>class A
  include C
end</p>

<p>puts A.new.c » c
puts A.b » b
```</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2019/01/04/cosmic/">
            The Effect of Cosmic Rays on Software Errors
            <small>04 Jan 2019</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2019/01/01/binary/">
            How Does a Computer Physically Store Binary Code?
            <small>01 Jan 2019</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/04/14/testing/">
            Determining the Scope of What to Test Inside Methods
            <small>14 Apr 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
