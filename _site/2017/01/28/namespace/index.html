<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      The Namespace Resolution Operator, aka the "double colon operator" &middot; Androidgrl's Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0e">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
      <img src="./public/githubphoto.jpeg">Androidgrl</img>
      <p>Hello!  Welcome to androidgrl's blog!  My name is Jamie Kawahara I am a software developer and 3D printing enthusiast.  I hope you find the tutorials helpful.</p>
      <a href="https://twitter.com/androidgrl">Twitter</a></br>
      <a href="https://github.com/androidgrl">Github</a>
  </div>

  <nav class="sidebar-nav">

    

    
    
      
        
      
    
      
        
      
    
      
        
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Androidgrl's Blog</a>
            <small>About 3D Printing & Tech, by Jamie Kawahara</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">The Namespace Resolution Operator, aka the "double colon operator"</h1>
  <span class="post-date">28 Jan 2017</span>
  <p>At work I saw an interesting version of the namespace resolution operator, aka the double colon operator.  Previously I had only seen it used to gain access inside scoped modules.  Such as gaining access to the ID defined inside module B below:</p>

<p>```
module A
  module B
    ID = 3
  end
end</p>

<p>puts A::B::ID
» 3
```</p>

<p>But this time it was used at the beginning of a scoped chain of modules like inside module B below:</p>

<p>```
module C
  ID = 3
end</p>

<p>module A
  module C
  ID = 4
    module B
      ID = ::C::ID
    end
  end
end</p>

<p>puts A::C::B::ID
» 3
```</p>

<p>This is called the root namespace resolution operator and it specifies that you are looking for a root level module.  A root level module is one that is not scoped inside another module.  So in this case, it is the module C defined on top which has the ID of 3.</p>

<p>Why was this needed?  It was needed so that it wouldn’t find the scoped module A::C’s ID instead.  For example if we removed the root operator like below, it would return 4 instead of 3.</p>

<p>```
module C
  ID = 3
end</p>

<p>module A
  module C
  ID = 4
    module B
      ID = C::ID
    end
  end
end</p>

<p>puts A::C::B::ID
» 4
```</p>

<p>In fact, if we did not have the ID = 4 defined inside the scoped module C, it would error out and never find the root level module C ID, like below.</p>

<p>```
module C
  ID = 3
end</p>

<p>module A
  module C
    module B
      ID = C::ID
    end
  end
end</p>

<p>puts A::C::B::ID
» error
```</p>

<p>Why does the scoped A::C take precedence over the root level C in the above case?
Because when you call C::ID inside of module B, it starts from where it is inside the scope and moves outward through it’s surrounding modules.  It then finds the outer module A::C and looks for an ID there.  Because it found a module C, it stops there and does not continue even though it has no ID defined, and does not continue to look for the root module C.</p>

<p>Also it is important to note that when two modules have the same name but are scoped differently they are completely different modules.  In fact they might as well have different names.  For example below:</p>

<p>```
module C
  ID = 1
end</p>

<p>module A
  module C
    ID = 2
  end
end</p>

<p>puts C::ID
» 1
puts A::C::ID
» 2
```</p>

<p>This is not to be confused with monkey patching a module, for example the code below first defines a root level module C with a constant of ONE, then it monkey patches the same root level module to add another constant TWO.  You can monkey patch a module or class as many times as you want, Ruby doesn’t care.</p>

<p>```
module C
  ONE = 1
end</p>

<p>module C
  TWO = 2
end</p>

<p>puts C::ONE
» 1
puts C::TWO
» 2
```</p>

<p>However, if you tried to monkey patch into a module with the same name but on a different scoped level it would not work because they’re two entirely different modules.</p>

<p>```
module C
  ONE = 1
end</p>

<p>module A
  module C
    TWO = 2
  end
end</p>

<p>puts C::TWO
» error
```</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2019/01/01/binary/">
            How Does a Computer Physically Store Binary Code?
            <small>01 Jan 2019</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/04/14/testing/">
            Determining the Scope of What to Test Inside Methods
            <small>14 Apr 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2017/02/17/languages/">
            What Makes a Language Fast?  Five Factors That Affect a Programming Language's Speed
            <small>17 Feb 2017</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
